<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>SAIT Navigator - Floor Plan</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body data-page="floor">
  <header class="site-header">
    <div class="brand">
      <span class="logo-dot" aria-hidden="true"></span>
      <div>
        <p class="eyebrow">SAIT Campus</p>
        <strong>Navigator</strong>
      </div>
    </div>
    <nav class="site-nav">
      <a href="index.html">Panorama</a>
      <a href="floor-plan.html" aria-current="page">Floor plan</a>
      <a href="directory.html">Directory</a>
    </nav>
    <button type="button" class="btn primary" data-action="fullscreen" data-fullscreen-target=".plan-board">Fullscreen</button>
  </header>

  <main class="floor-layout">
    <section class="floor-panel">
      <header>
        <div>
          <p class="eyebrow">Dynamic map</p>
          <h1>MB - MC - MD network</h1>
          <p class="muted">Two synced views: a human-friendly SVG map and a computer-friendly JSON graph generated directly from APP_DATA.</p>
        </div>
      </header>
      <div class="plan-board">
        <svg data-floor-plan viewBox="0 0 600 600" role="img" aria-label="Interactive floor plan"></svg>
      </div>
      <div class="legend">
        <span class="badge" data-zone="mb">MB</span>
        <span class="badge" data-zone="mc">MC</span>
        <span class="badge" data-zone="md">MD</span>
        <span class="badge" data-zone="other">Other</span>
      </div>
      <p class="muted plan-note">Layout uses hotspot bearings from the panoramas to keep corridor directions true to the photos.</p>
      <section class="plan-data">
        <div>
          <h2>Computer-readable map</h2>
          <p class="muted">Exported JSON with node ids, zones, coordinates, and undirected links you can feed into scripts.</p>
          <div class="data-box">
            <pre data-floor-json>Building graph...</pre>
          </div>
          <div class="plan-actions">
            <button type="button" class="btn ghost" data-copy-graph>Copy JSON</button>
          </div>
        </div>
        <div>
          <h2>Quick stats</h2>
          <p class="muted">Live counts that stay aligned with the data export.</p>
          <div class="data-box" data-floor-stats>
            <p class="muted">Loading stats...</p>
          </div>
        </div>
      </section>
    </section>
  </main>

  <footer class="site-footer">
    <p>Tap any node to open it in the panorama page.</p>
  </footer>

  <script src="vendor/screenfull.min.js"></script>
  <script src="vendor/marzipano.js"></script>
  <script src="data.js"></script>
  <script type="module" src="index.js"></script>
</body>
</html>
